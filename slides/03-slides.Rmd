---
title: "Lab 03: CS631"
subtitle: "Working with Data"
author: "Alison Hill"
output:
  xaringan::moon_reader:
    css: ["default", "css/ohsu.css", "css/ohsu-fonts.css"]
    lib_dir: libs
    nature:
      highlightStyle: atelier-lakeside-light
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE, 
  comment = NA, dpi = 300,
  fig.align = "center", out.width = "80%", cache = FALSE)
library(tidyverse)
```

```{r include = FALSE}
sounds <- read_csv(here::here("data", "animal_sounds_summary.csv")) %>% 
  select(-prop_produce, -contains("understand"))
```



# Data types

```{r echo = FALSE}
knitr::include_graphics("http://r4ds.had.co.nz/diagrams/data-structures-overview.png")
```


---
class: middle, center, inverse

# ‚åõÔ∏è

## Let's review 

---
# Mutate

- <font color="#ED1941">Create a new variable with a specific value</font>  

- Create a new variable based on other variables 

- Change the contents of an existing variable

--

```{r}
sounds %>% 
  mutate(form = "WS")
```

---
# Mutate


- Create a new variable with a specific value

- <font color="#ED1941">Create a new variable based on other variables</font> 

- Change the contents of an existing variable

--

```{r}
sounds %>% 
  mutate(prop_produce = kids_produce / kids_respond)
```

---
# Mutate

- Create a new variable with a specific value

- Create a new variable based on other variables

- <font color="#ED1941">Change the contents of an existing variable</font> 

--

```{r include = FALSE}
sounds <- sounds %>% 
  mutate(prop_produce = kids_produce / kids_respond)
```

```{r}
sounds %>% 
  mutate(prop_produce = prop_produce * 100)
```

---
class: middle, center, inverse

# ‚åõÔ∏è

## Let's review some helpful functions for `mutate` + `summarize`

---
class: inverse, bottom, center
background-image: url("../images/peapod.png")
background-size: 25%


## Remember:

## Base R + Tidyverse


---
class: middle, center, inverse

#üí°

## First: Arithmetic

*especially useful for `mutate`*

---

```{r}
?Arithmetic
```

```{r include = FALSE}
math_table <- tibble::tribble(
  ~Operator, ~Description, ~Usage,
  "+", "addition", "x + y",
  "-", "subtraction", "x - y",
  "*", "multiplication", "x * y",
  "/", "division", "x / y",
  "^", "raised to the power of", "x ^ y",
  "abs", "absolute value", "abs(x)",
  "%/%", "integer division", "x %/% y",
  "%%", "remainder after division", "x %% y"
)
```


```{r echo = FALSE, results = 'asis'}
knitr::kable(math_table, format = "html")
```

```{r}
5 %/% 2 # 2 goes into 5 two times with...
5 %% 2 # 1 left over
```


---
class: middle, center, inverse

#üí°

## Second: 

## Summaries

*especially useful for `summarize`*
*even more useful after a `group_by`*



---

All very useful in a `summarize`!

sum, min, max, var, sd, range, mean, median, min, max, quantile, so many!

Especially useful after `group_by`

Look at the RStudio Base R Cheatsheet:

https://github.com/rstudio/cheatsheets/blob/master/base-r.pdf

---
class: inverse, middle, center

![](../images/alicedata-lego-colors.jpg)
## <small>"Spent day pondering grayscale vs colourscale using `ggplot`"</small>

*photo and caption courtesy [@alice-data](https://twitter.com/alice_data)*

---
# Today's lab: COLORS

Specifically, discrete colors.

At the end of today's lab, you'll see an extra section on continuous colors. 


---
class: inverse, middle, center

# üëáüèΩ

## R Markdown:

https://www.markdowntutorial.com

https://andrewbtran.github.io/NICAR/2018/workflow/docs/02-rmarkdown.html

https://yihui.name/tinytex/ *(install!)*

https://github.com/rstudio/cheatsheets/blob/master/rmarkdown-2.0.pdf

https://rmarkdown.rstudio.com/html_document_format.html

https://rmarkdown.rstudio.com/pdf_document_format.html
