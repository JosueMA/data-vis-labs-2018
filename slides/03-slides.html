<!DOCTYPE html>
<html>
  <head>
    <title>Lab 03: CS631</title>
    <meta charset="utf-8">
    <meta name="author" content="Alison Hill" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/ohsu.css" type="text/css" />
    <link rel="stylesheet" href="css/ohsu-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Lab 03: CS631
## Working with Data
### Alison Hill

---








# Data types

&lt;img src="http://r4ds.had.co.nz/diagrams/data-structures-overview.png" width="80%" style="display: block; margin: auto;" /&gt;


---
class: middle, center, inverse

# ‚åõÔ∏è

## Let's review 

---
# Mutate

- &lt;font color="#ED1941"&gt;Create a new variable with a specific value&lt;/font&gt;  

- Create a new variable based on other variables 

- Change the contents of an existing variable

--


```r
sounds %&gt;% 
  mutate(form = "WS")
```

```
# A tibble: 33 x 5
     age sound          kids_produce kids_respond form 
   &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;
 1    8. cockadoodledoo           1.          35. WS   
 2    8. meow                     0.          35. WS   
 3    8. woof woof                3.          35. WS   
 4    9. cockadoodledoo           0.          91. WS   
 5    9. meow                     2.          93. WS   
 6    9. woof woof                2.          93. WS   
 7   10. cockadoodledoo           0.         139. WS   
 8   10. meow                     5.         145. WS   
 9   10. woof woof                4.         143. WS   
10   11. cockadoodledoo           0.          94. WS   
# ... with 23 more rows
```

---
# Mutate


- Create a new variable with a specific value

- &lt;font color="#ED1941"&gt;Create a new variable based on other variables&lt;/font&gt; 

- Change the contents of an existing variable

--


```r
sounds %&gt;% 
  mutate(prop_produce = kids_produce / kids_respond)
```

```
# A tibble: 33 x 5
     age sound          kids_produce kids_respond prop_produce
   &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
 1    8. cockadoodledoo           1.          35.       0.0286
 2    8. meow                     0.          35.       0.    
 3    8. woof woof                3.          35.       0.0857
 4    9. cockadoodledoo           0.          91.       0.    
 5    9. meow                     2.          93.       0.0215
 6    9. woof woof                2.          93.       0.0215
 7   10. cockadoodledoo           0.         139.       0.    
 8   10. meow                     5.         145.       0.0345
 9   10. woof woof                4.         143.       0.0280
10   11. cockadoodledoo           0.          94.       0.    
# ... with 23 more rows
```

---
# Mutate

- Create a new variable with a specific value

- Create a new variable based on other variables

- &lt;font color="#ED1941"&gt;Change the contents of an existing variable&lt;/font&gt; 

--




```r
sounds %&gt;% 
  mutate(prop_produce = prop_produce * 100)
```

```
# A tibble: 33 x 5
     age sound          kids_produce kids_respond prop_produce
   &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
 1    8. cockadoodledoo           1.          35.         2.86
 2    8. meow                     0.          35.         0.  
 3    8. woof woof                3.          35.         8.57
 4    9. cockadoodledoo           0.          91.         0.  
 5    9. meow                     2.          93.         2.15
 6    9. woof woof                2.          93.         2.15
 7   10. cockadoodledoo           0.         139.         0.  
 8   10. meow                     5.         145.         3.45
 9   10. woof woof                4.         143.         2.80
10   11. cockadoodledoo           0.          94.         0.  
# ... with 23 more rows
```

---
class: middle, center, inverse

# ‚åõÔ∏è

## Let's review some helpful functions for `mutate` + `summarize`

---
class: inverse, bottom, center
background-image: url("../images/peapod.png")
background-size: 25%


## Remember:

## Base R + Tidyverse


---
class: middle, center, inverse

#üí°

## First: Arithmetic

*especially useful for `mutate`*

---


```r
?Arithmetic
```




&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Operator &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Description &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Usage &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; + &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; addition &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x + y &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; - &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; subtraction &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x - y &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; * &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; multiplication &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x * y &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; / &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; division &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x / y &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; ^ &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; raised to the power of &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x ^ y &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; abs &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; absolute value &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; abs(x) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; %/% &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; integer division &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x %/% y &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; %% &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; remainder after division &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x %% y &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


```r
5 %/% 2 # 2 goes into 5 two times with...
```

```
[1] 2
```

```r
5 %% 2 # 1 left over
```

```
[1] 1
```


---
class: middle, center, inverse

#üí°

## Second: 

## Summaries

*especially useful for `summarize`*
*even more useful after a `group_by`*



---

All very useful in a `summarize`!

sum, min, max, var, sd, range, mean, median, min, max, quantile, so many!

Especially useful after `group_by`

---
class: inverse, middle, center

![](../images/alicedata-lego-colors.jpg)
## &lt;small&gt;"Spent day pondering grayscale vs colourscale using `ggplot`"&lt;/small&gt;

*photo and caption courtesy [@alice-data](https://twitter.com/alice_data)*

---
# Today's lab: COLORS

Specifically, discrete colors.

At the end of today's lab, you'll see an extra section on continuous colors. 


---
class: inverse, middle, center

# üëáüèΩ

## R Markdown:

https://www.markdowntutorial.com

https://andrewbtran.github.io/NICAR/2018/workflow/docs/02-rmarkdown.html

https://yihui.name/tinytex/ *(install!)*

https://github.com/rstudio/cheatsheets/blob/master/rmarkdown-2.0.pdf

https://rmarkdown.rstudio.com/html_document_format.html

https://rmarkdown.rstudio.com/pdf_document_format.html
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "atelier-lakeside-light",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
